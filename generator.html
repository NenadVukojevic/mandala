<html>
<style>
    body,
    html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: black;
    }

    canvas {
        display: block;
    }
</style>

<body>
    <input type="range" id="sizeRange" min="100" max="600" value="150">
    <br>
    <input type="range" id="sizeOuter" min="16" max="40" value="22">
    <canvas id="myCanvas" width="1200" height="1200"></canvas>

    <script type="module">

        import { generateShapes } from './generators/border_pearl.js';
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        const sizeRange = document.getElementById('sizeRange');
        const sizeOuter = document.getElementById('sizeOuter');

        function drawArcsFast(arcs) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            arcs.forEach(arc => {
                ctx.beginPath();
                ctx.arc(
                    arc.x,                 // x-coordinate of the center
                    arc.y,                 // y-coordinate of the center
                    arc.radius,                 // radius of the arc
                    arc.startAngle,             // start angle in radians
                    arc.endAngle
                );
                ctx.strokeStyle = arc.color || 'white';
                ctx.lineWidth = arc.lineWidth || 2;
                ctx.stroke();
            });
        }

        sizeRange.addEventListener('input', function () {
            const arcs = generateShapes(300, 300, sizeRange.value, sizeOuter.value);
            drawArcsFast(arcs);
        });

        sizeOuter.addEventListener('input', function () {
            const arcs = generateShapes(300, 300, sizeRange.value, sizeOuter.value);
            drawArcsFast(arcs);
        })

        const arcs = generateShapes(300, 300, sizeRange.value, sizeOuter.value);
        drawArcsFast(arcs);
        console.log(arcs)
    </script>
</body>

</html>